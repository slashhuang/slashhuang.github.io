{"version":3,"file":"index.js","sources":["../../src/shared/helper.ts","../../src/shared/deepAssign.ts","../../src/shared/date.ts","../../src/shared/link.ts"],"sourcesContent":["import { isString } from 'vuepress/shared'\n\nexport { isFunction, isString, isPlainObject } from 'vuepress/shared'\n\n/* Type helper */\n\n/**\n * Check if a value is defined\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const isDef = <T = any>(val?: T): val is T => typeof val !== 'undefined'\n\n/**\n * Check if a value is boolean\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport const isBoolean = (val: any): val is boolean => typeof val === 'boolean'\n\n/**\n * Check if a value is number\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport const isNumber = (val: any): val is number => typeof val === 'number'\n\n/**\n * Check if a value is array\n */\nexport const { isArray } = Array\n\n/**\n * Check if a value is regexp\n */\nexport const isRegExp = (val: unknown): val is RegExp => val instanceof RegExp\n\n/* String helper */\n\n/**\n * Check if a value is starting with the given prefix\n */\nexport const startsWith = (str: unknown, prefix: string): boolean =>\n  isString(str) && str.startsWith(prefix)\n\n/**\n * Check if a value is ending with the given suffix\n */\nexport const endsWith = (str: unknown, suffix: string): boolean =>\n  isString(str) && str.endsWith(suffix)\n\nexport {\n  ensureEndingSlash,\n  ensureLeadingSlash,\n  removeEndingSlash,\n  removeLeadingSlash,\n} from 'vuepress/shared'\n\n/* Object helper */\nexport const { entries } = Object\nexport const { fromEntries } = Object\nexport const { keys } = Object\nexport const { values } = Object\n","import { entries, isArray, isPlainObject } from './helper.js'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype IAnyObject = Record<string, any>\n\n/**\n * Deep merge objects to the first one\n */\nexport const deepAssign = <\n  T extends IAnyObject,\n  U extends IAnyObject = T,\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-parameters\n  V extends Partial<T> & Partial<U> = T & U,\n>(\n  originObject: T,\n  ...overrideObjects: (U | null | undefined)[]\n): V => {\n  if (overrideObjects.length === 0) return originObject as unknown as V\n\n  /** Object being merged */\n  const assignObject = overrideObjects.shift()\n\n  if (assignObject)\n    entries(assignObject).forEach(([property, value]) => {\n      if (property === '__proto__' || property === 'constructor') return\n      if (isPlainObject(originObject[property]) && isPlainObject(value))\n        deepAssign(originObject[property], value)\n      else if (isArray(value))\n        (originObject as IAnyObject)[property] = [...(value as unknown[])]\n      else if (isPlainObject(value))\n        (originObject as IAnyObject)[property] = {\n          ...value,\n        }\n      else\n        (originObject as IAnyObject)[property] = assignObject[\n          property\n        ] as unknown\n    })\n\n  return deepAssign(originObject, ...overrideObjects)\n}\n","/**\n * Get Date info from user input\n *\n * @description return `null` when input is invalid\n */\nexport const getDate = (input: unknown): Date | null => {\n  if (input) {\n    if (typeof input === 'number') return new Date(input)\n\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    const date = Date.parse(input.toString())\n\n    if (!Number.isNaN(date)) return new Date(date)\n  }\n\n  return null\n}\n\n/**\n * Date sorter from latest to oldest\n *\n * @description Inputs that are invalid date will appear at last\n */\nexport const dateSorter = (\n  valueA: Date | number | string | undefined,\n  valueB: Date | number | string | undefined,\n): number => {\n  const dateA = getDate(typeof valueA === 'number' ? new Date(valueA) : valueA)\n  const dateB = getDate(typeof valueB === 'number' ? new Date(valueB) : valueB)\n\n  if (!dateA) return dateB ? 1 : 0\n  if (!dateB) return -1\n\n  return dateB.getTime() - dateA.getTime()\n}\n","import { isLinkExternal, isLinkWithProtocol } from 'vuepress/shared'\nimport { startsWith } from './helper.js'\n\nexport { isLinkExternal, isLinkHttp, isLinkWithProtocol } from 'vuepress/shared'\n\n/**\n * Check if a value is a valid absolute url\n */\nexport const isLinkAbsolute = (test: unknown): boolean =>\n  startsWith(test, '/') && (test as string)[1] !== '/'\n\nexport const isLinkRelative = (link: string): boolean =>\n  !isLinkExternal(link) && !isLinkWithProtocol(link)\n"],"names":["isDef","val","isBoolean","isNumber","isArray","isRegExp","startsWith","str","prefix","isString","endsWith","suffix","entries","fromEntries","keys","values","deepAssign","originObject","overrideObjects","assignObject","property","value","isPlainObject","getDate","input","date","dateSorter","valueA","valueB","dateA","dateB","isLinkAbsolute","test","isLinkRelative","link","isLinkExternal","isLinkWithProtocol"],"mappings":"kVAUO,MAAMA,EAAkBC,GAAsB,OAAOA,EAAQ,IAMvDC,EAAaD,GAA6B,OAAOA,GAAQ,UAMzDE,EAAYF,GAA4B,OAAOA,GAAQ,SAKvD,CAAE,QAAAG,CAAQ,EAAI,MAKdC,EAAYJ,GAAgCA,aAAe,OAO3DK,EAAa,CAACC,EAAcC,IACvCC,EAASF,CAAG,GAAKA,EAAI,WAAWC,CAAM,EAK3BE,EAAW,CAACH,EAAcI,IACrCF,EAASF,CAAG,GAAKA,EAAI,SAASI,CAAM,EAUzB,CAAE,QAAAC,CAAQ,EAAI,OACd,CAAE,YAAAC,CAAY,EAAI,OAClB,CAAE,KAAAC,CAAK,EAAI,OACX,CAAE,OAAAC,CAAO,EAAI,OCnDbC,EAAa,CAMxBC,KACGC,IACG,CACN,GAAIA,EAAgB,SAAW,EAAG,OAAOD,EAGzC,MAAME,EAAeD,EAAgB,QAErC,OAAIC,GACFP,EAAQO,CAAY,EAAE,QAAQ,CAAC,CAACC,EAAUC,CAAK,IAAM,CAC/CD,IAAa,aAAeA,IAAa,gBACzCE,EAAcL,EAAaG,CAAQ,CAAC,GAAKE,EAAcD,CAAK,EAC9DL,EAAWC,EAAaG,CAAQ,EAAGC,CAAK,EACjCjB,EAAQiB,CAAK,EACnBJ,EAA4BG,CAAQ,EAAI,CAAC,GAAIC,CAAmB,EAC1DC,EAAcD,CAAK,EACzBJ,EAA4BG,CAAQ,EAAI,CACvC,GAAGC,CACL,EAECJ,EAA4BG,CAAQ,EAAID,EACvCC,CACF,EACJ,CAAC,EAEIJ,EAAWC,EAAc,GAAGC,CAAe,CACpD,ECnCaK,EAAWC,GAAgC,CACtD,GAAIA,EAAO,CACT,GAAI,OAAOA,GAAU,SAAU,OAAO,IAAI,KAAKA,CAAK,EAGpD,MAAMC,EAAO,KAAK,MAAMD,EAAM,SAAU,CAAA,EAExC,GAAI,CAAC,OAAO,MAAMC,CAAI,EAAG,OAAO,IAAI,KAAKA,CAAI,CAC/C,CAEA,OAAO,IACT,EAOaC,EAAa,CACxBC,EACAC,IACW,CACX,MAAMC,EAAQN,EAAQ,OAAOI,GAAW,SAAW,IAAI,KAAKA,CAAM,EAAIA,CAAM,EACtEG,EAAQP,EAAQ,OAAOK,GAAW,SAAW,IAAI,KAAKA,CAAM,EAAIA,CAAM,EAE5E,OAAKC,EACAC,EAEEA,EAAM,QAAA,EAAYD,EAAM,UAFZ,GADAC,EAAQ,EAAI,CAIjC,EC1BaC,EAAkBC,GAC7B1B,EAAW0B,EAAM,GAAG,GAAMA,EAAgB,CAAC,IAAM,IAEtCC,EAAkBC,GAC7B,CAACC,EAAeD,CAAI,GAAK,CAACE,EAAmBF,CAAI"}