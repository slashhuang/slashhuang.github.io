{"version":3,"file":"config.js","sources":["../../src/client/config.ts"],"sourcesContent":["import { wait } from '@vuepress/helper/client'\nimport type { ZoomOptions } from 'medium-zoom'\nimport mediumZoom from 'medium-zoom'\nimport { defineClientConfig } from 'vuepress/client'\nimport { mediumZoomSymbol } from './composables/index.js'\n\nimport './styles/vars.css'\nimport './styles/medium-zoom.css'\n\ndeclare const __MZ_SELECTOR__: string\ndeclare const __MZ_ZOOM_OPTIONS__: ZoomOptions\ndeclare const __MZ_DELAY__: number\n\nconst selector = __MZ_SELECTOR__\nconst zoomOptions = __MZ_ZOOM_OPTIONS__\nconst delay = __MZ_DELAY__\n\nexport default defineClientConfig({\n  enhance({ app, router }) {\n    if (__VUEPRESS_SSR__ || !selector) return\n\n    // create zoom instance and provide it\n    const zoom = mediumZoom(zoomOptions)\n    zoom.refresh = (sel = selector) => {\n      zoom.detach()\n      zoom.attach(sel)\n    }\n    app.provide(mediumZoomSymbol, zoom)\n\n    router.afterEach(() => {\n      void wait(delay).then(() => {\n        zoom.refresh()\n      })\n    })\n  },\n})\n"],"names":["selector","zoomOptions","delay","defineClientConfig","app","router","zoom","mediumZoom","sel","mediumZoomSymbol","wait"],"mappings":"oPAaA,MAAMA,EAAW,gBACXC,EAAc,oBACdC,EAAQ,aAEd,IAAeC,EAAAA,EAAmB,CAChC,QAAQ,CAAE,IAAAC,EAAK,OAAAC,CAAO,EAAG,CACvB,GAAI,kBAAoB,CAACL,EAAU,OAGnC,MAAMM,EAAOC,EAAWN,CAAW,EACnCK,EAAK,QAAU,CAACE,EAAMR,IAAa,CACjCM,EAAK,SACLA,EAAK,OAAOE,CAAG,CACjB,EACAJ,EAAI,QAAQK,EAAkBH,CAAI,EAElCD,EAAO,UAAU,IAAM,CAChBK,EAAKR,CAAK,EAAE,KAAK,IAAM,CAC1BI,EAAK,QACP,CAAA,CAAC,CACH,CAAC,CACH,CACF,CAAC"}