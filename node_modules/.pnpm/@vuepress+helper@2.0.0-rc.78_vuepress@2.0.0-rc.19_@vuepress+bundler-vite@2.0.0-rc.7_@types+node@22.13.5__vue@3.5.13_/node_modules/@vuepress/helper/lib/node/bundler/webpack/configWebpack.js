import { getBundlerName } from '../getBundlerName.js';
/**
 * Configure webpack options
 *
 * @param bundlerOptions VuePress Bundler config
 * @param app VuePress Node App
 * @param configureWebpack function to configure webpack
 */
export const configWebpack = (bundlerOptions, app, configureWebpack) => {
    if (getBundlerName(app) === 'webpack') {
        const webpackBundlerOptions = bundlerOptions;
        const { configureWebpack: originalConfigWebpack } = webpackBundlerOptions;
        webpackBundlerOptions.configureWebpack = (config, isServer, isBuild) => {
            const result = originalConfigWebpack?.(config, isServer, isBuild);
            configureWebpack(config, isServer, isBuild);
            return result;
        };
    }
};
