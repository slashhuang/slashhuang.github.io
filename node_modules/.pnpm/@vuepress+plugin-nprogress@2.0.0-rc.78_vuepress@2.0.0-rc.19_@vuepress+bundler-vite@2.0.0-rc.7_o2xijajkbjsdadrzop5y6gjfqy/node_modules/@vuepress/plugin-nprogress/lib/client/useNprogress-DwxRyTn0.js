import{onMounted as h}from"vue";import{useRouter as f}from"vuepress/client";import{isDef as S}from"@vuepress/helper/client";import"./styles/vars.css";import"./styles/nprogress.css";const g=(e,t)=>{e.classList.add(t)},y=(e,t)=>{e.classList.remove(t)},v=e=>{e?.parentNode?.removeChild(e)},p=(e,t,n)=>e<t?t:e>n?n:e,b=e=>(-1+e)*100,E=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),e.length===1&&t()}})(),k=e=>e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(t,n)=>n.toUpperCase()),d=(()=>{const e=["Webkit","O","Moz","ms"],t={},n=o=>{const{style:s}=document.body;if(o in s)return o;const a=o.charAt(0).toUpperCase()+o.slice(1);let l=e.length;for(;l--;){const u=`${e[l]}${a}`;if(u in s)return u}return o},i=o=>{const s=k(o);return t[s]??=n(s)},m=(o,s,a)=>{o.style[i(s)]=a};return(o,s)=>{for(const a in s){const l=s[a];Object.hasOwn(s,a)&&S(l)&&m(o,a,l)}}})(),c={minimum:.08,easing:"ease",speed:200,trickleRate:.02,trickleSpeed:800,barSelector:'[role="bar"]',parent:"body",template:'<div class="bar" role="bar"></div>'},r={percent:null,isRendered:()=>!!document.getElementById("nprogress"),set:e=>{const{speed:t,easing:n}=c,i=r.isStarted(),m=p(e,c.minimum,1);r.percent=m===1?null:m;const o=r.render(!i),s=o.querySelector(c.barSelector);return E(a=>{d(s,{transform:`translate3d(${b(m)}%,0,0)`,transition:`all ${t}ms ${n}`}),m===1?(d(o,{transition:"none",opacity:"1"}),setTimeout(()=>{d(o,{transition:`all ${t}ms linear`,opacity:"0"}),setTimeout(()=>{r.remove(),a()},t)},t)):setTimeout(()=>{a()},t)}),r},isStarted:()=>typeof r.percent=="number",start:()=>{r.percent||r.set(0);const e=()=>{setTimeout(()=>{r.percent&&(r.trickle(),e())},c.trickleSpeed)};return e(),r},done:e=>!e&&!r.percent?r:r.increase(.3+.5*Math.random()).set(1),increase:e=>{let{percent:t}=r;return t?(t=p(t+(typeof e=="number"?e:(1-t)*p(Math.random()*t,.1,.95)),0,.994),r.set(t)):r.start()},trickle:()=>r.increase(Math.random()*c.trickleRate),render:e=>{if(r.isRendered())return document.getElementById("nprogress");g(document.documentElement,"nprogress-busy");const t=document.createElement("div");t.id="nprogress",t.innerHTML=c.template;const n=t.querySelector(c.barSelector),i=document.querySelector(c.parent),m=e?"-100":b(r.percent??0);return d(n,{transition:"all 0 linear",transform:`translate3d(${m}%,0,0)`}),i&&(i!==document.body&&g(i,"nprogress-custom-parent"),i.appendChild(t)),t},remove:()=>{y(document.documentElement,"nprogress-busy"),y(document.querySelector(c.parent),"nprogress-custom-parent"),v(document.getElementById("nprogress"))}},$=()=>{h(()=>{const e=f(),t=new Set;t.add(e.currentRoute.value.path),e.beforeEach(n=>{t.has(n.path)||r.start()}),e.afterEach(n=>{t.add(n.path),r.done()})})};export{$ as u};
//# sourceMappingURL=useNprogress-DwxRyTn0.js.map
