import{useStorage as f}from"@vueuse/core";import{defineComponent as m,ref as y,shallowRef as I,h as u,onMounted as A,watch as g}from"vue";import"../styles/tabs.css";const h="VUEPRESS_TAB_STORE",n=f(h,{}),$=m({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:String},slots:Object,setup(a,{slots:d}){const l=y(a.active),v=I([]),s=()=>{a.tabId&&(n.value[a.tabId]=a.data[l.value].id)},o=(t=l.value)=>{l.value=t<v.value.length-1?t+1:0,v.value[l.value].focus()},c=(t=l.value)=>{l.value=t>0?t-1:v.value.length-1,v.value[l.value].focus()},b=(t,e)=>{t.key===" "||t.key==="Enter"?(t.preventDefault(),l.value=e):t.key==="ArrowRight"?(t.preventDefault(),o()):t.key==="ArrowLeft"&&(t.preventDefault(),c()),s()},p=()=>{if(a.tabId){const t=a.data.findIndex(({id:e})=>n.value[a.tabId]===e);if(t!==-1)return t}return a.active};return A(()=>{l.value=p(),g(()=>a.tabId&&n.value[a.tabId],(t,e)=>{if(a.tabId&&t!==e){const i=a.data.findIndex(({id:r})=>r===t);i!==-1&&(l.value=i)}})}),()=>a.data.length?u("div",{class:"vp-tabs"},[u("div",{class:"vp-tabs-nav",role:"tablist"},a.data.map(({id:t},e)=>{const i=e===l.value;return u("button",{type:"button",ref:r=>{r&&(v.value[e]=r)},class:["vp-tab-nav",{active:i}],role:"tab","aria-controls":`tab-${a.id}-${e}`,"aria-selected":i,onClick:()=>{l.value=e,s()},onKeydown:r=>{b(r,e)}},d[`title${e}`]({value:t,isActive:i}))})),a.data.map(({id:t},e)=>{const i=e===l.value;return u("div",{class:["vp-tab",{active:i}],id:`tab-${a.id}-${e}`,role:"tabpanel","aria-expanded":i},[u("div",{class:"vp-tab-title"},d[`title${e}`]({value:t,isActive:i})),d[`tab${e}`]({value:t,isActive:i})])})]):null}});export{$ as Tabs};
//# sourceMappingURL=Tabs.js.map
