{"version":3,"file":"index.js","sources":["../../src/node/alert.ts","../../src/node/hint.ts","../../src/node/locales.ts","../../src/node/markdownHintPlugin.ts"],"sourcesContent":["import type { MarkdownItAlertOptions as _MarkdownItAlertOptions } from '@mdit/plugin-alert'\nimport { alert as _alert } from '@mdit/plugin-alert'\nimport type { ExactLocaleConfig } from '@vuepress/helper'\nimport { ensureLeadingSlash } from '@vuepress/helper'\nimport type { PluginWithOptions } from 'markdown-it'\nimport type { MarkdownEnv } from 'vuepress/markdown'\nimport { resolveLocalePath } from 'vuepress/shared'\n\nimport type { MarkdownHintPluginLocaleData } from './options.js'\n\nexport type MarkdownItAlertOptions =\n  ExactLocaleConfig<MarkdownHintPluginLocaleData>\n\nexport const alert: PluginWithOptions<MarkdownItAlertOptions> = (\n  md,\n  options = {},\n) => {\n  md.use<_MarkdownItAlertOptions>(_alert, {\n    alertNames: ['important', 'note', 'tip', 'warning', 'caution', 'info'],\n    openRender: (tokens, index) =>\n      `<div class=\"hint-container ${tokens[index].markup}\">\\n`,\n    titleRender: (tokens, index, _options, env: MarkdownEnv) => {\n      const type = tokens[index].markup\n      const relativePath = ensureLeadingSlash(env.filePathRelative ?? '')\n      const localePath = resolveLocalePath(options, relativePath)\n\n      return `\\\n<p class=\"hint-container-title\">${\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        options[localePath]?.[type as keyof MarkdownHintPluginLocaleData] ||\n        type\n      }</p>\n`\n    },\n    closeRender: () => '</div>\\n',\n    deep: true,\n  })\n}\n","import type { MarkdownItContainerOptions } from '@mdit/plugin-container'\nimport { container } from '@mdit/plugin-container'\nimport type { ExactLocaleConfig } from '@vuepress/helper'\nimport { ensureLeadingSlash } from '@vuepress/helper'\nimport type { PluginWithOptions } from 'markdown-it'\nimport type { MarkdownEnv } from 'vuepress/markdown'\nimport { resolveLocalePath } from 'vuepress/shared'\n\nimport type { MarkdownHintPluginLocaleData } from './options.js'\n\nexport type MarkdownItHintOptions =\n  ExactLocaleConfig<MarkdownHintPluginLocaleData>\n\nexport type MarkdownHintContainerName = keyof MarkdownHintPluginLocaleData\n\nconst CONTAINERS: MarkdownHintContainerName[] = [\n  'info',\n  'note',\n  'tip',\n  'warning',\n  'caution',\n  'important',\n]\n\nexport const hint: PluginWithOptions<MarkdownItHintOptions> = (\n  md,\n  options = {},\n) => {\n  CONTAINERS.forEach((name) => {\n    md.use<MarkdownItContainerOptions>(container, {\n      name,\n      openRender: (tokens, index, _options, env: MarkdownEnv) => {\n        const token = tokens[index]\n\n        // Resolve info (title)\n        let info = token.info.trim().slice(name.length).trim()\n\n        // Get locale\n        if (!info) {\n          const { filePathRelative } = env\n          const relativePath = ensureLeadingSlash(filePathRelative ?? '')\n          const localePath = resolveLocalePath(options, relativePath)\n\n          // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n          info = options[localePath]?.[name]\n        } else {\n          info = md.renderInline(info)\n        }\n\n        return `<div class=\"hint-container ${name}\">\\n<p class=\"hint-container-title\">${info || name}</p>\\n`\n      },\n      closeRender: () => '</div>\\n',\n    })\n  })\n\n  // Compact with @vuepress/theme-default\n  md.use<MarkdownItContainerOptions>(container, {\n    name: 'danger',\n    openRender: (tokens, index, _options, env: MarkdownEnv) => {\n      const token = tokens[index]\n\n      // Resolve info (title)\n      let info = token.info.trim().slice(6).trim()\n\n      // Get locale\n      if (!info) {\n        const { filePathRelative } = env\n        const relativePath = ensureLeadingSlash(filePathRelative ?? '')\n        const localePath = resolveLocalePath(options, relativePath)\n\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        info = options[localePath]?.caution\n      } else {\n        info = md.renderInline(info)\n      }\n\n      return `<div class=\"hint-container caution\">\\n<p class=\"hint-container-title\">${\n        info || 'caution'\n      }</p>\\n`\n    },\n    closeRender: () => '</div>\\n',\n  })\n\n  md.use<MarkdownItContainerOptions>(container, {\n    name: 'details',\n    openRender: (tokens, index, _options, env: MarkdownEnv) => {\n      const token = tokens[index]\n\n      // Resolve info (title)\n      let info = token.info\n        .trim()\n        .slice(\n          // Length of \"details\"\n          7,\n        )\n        .trim()\n\n      // Get locale\n      if (!info) {\n        const { filePathRelative } = env\n        const relativePath = ensureLeadingSlash(filePathRelative ?? '')\n        const localePath = resolveLocalePath(options, relativePath)\n\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        info = options[localePath]?.details\n      } else {\n        info = md.renderInline(info)\n      }\n\n      return `<details class=\"hint-container details\"><summary>${\n        info || 'Details'\n      }</summary>\\n`\n    },\n    closeRender: () => '</details>\\n',\n  })\n}\n","import type { DefaultLocaleInfo } from '@vuepress/helper'\nimport type { MarkdownHintPluginLocaleData } from './options.js'\n\nexport const hintLocaleInfo: DefaultLocaleInfo<MarkdownHintPluginLocaleData> = [\n  [\n    ['en', 'en-US'],\n    {\n      important: 'Important',\n      info: 'Info',\n      note: 'Note',\n      tip: 'Tips',\n      warning: 'Warning',\n      caution: 'Caution',\n      details: 'Details',\n    },\n  ],\n  [\n    ['zh', 'zh-CN', 'zh-Hans'],\n    {\n      important: '重要',\n      info: '相关信息',\n      note: '注',\n      tip: '提示',\n      warning: '注意',\n      caution: '警告',\n      details: '详情',\n    },\n  ],\n  [\n    ['zh-TW', 'zh-Hant'],\n    {\n      important: '重要',\n      info: '相關信息',\n      note: '注',\n      tip: '提示',\n      warning: '注意',\n      caution: '警告',\n      details: '詳情',\n    },\n  ],\n  [\n    ['de', 'de-DE'],\n    {\n      important: 'Wichtig',\n      info: 'Information',\n      note: 'Notiz',\n      tip: 'Tips',\n      warning: 'Warnung',\n      caution: 'Gefahr',\n      details: 'Details',\n    },\n  ],\n  [\n    ['de-AT'],\n    {\n      important: 'Wichtig',\n      info: 'Information',\n      note: 'Note',\n      tip: 'Tips',\n      warning: 'Notiz',\n      caution: 'Warnung',\n      details: 'Details',\n    },\n  ],\n  [\n    ['vi', 'vi-VN'],\n    {\n      important: 'Quan trọng',\n      info: 'Thông tin',\n      note: 'Note',\n      tip: 'Tips',\n      warning: 'Lưu ý',\n      caution: 'Cẩn thận',\n      details: 'Chi tiết',\n    },\n  ],\n  [\n    ['uk'],\n    {\n      important: 'Важливо',\n      info: 'Інформація',\n      note: 'Note',\n      tip: 'Поради',\n      warning: 'Примітка',\n      caution: 'Увага',\n      details: 'Деталь',\n    },\n  ],\n  [\n    ['ru', 'ru-RU'],\n    {\n      important: 'Важно',\n      info: 'Инфо',\n      note: 'Заметка',\n      tip: 'Совет',\n      warning: 'Примечание',\n      caution: 'Предупреждение',\n      details: 'Подробности',\n    },\n  ],\n  [\n    ['br'],\n    {\n      important: 'Importante',\n      info: 'Informativo',\n      note: 'Note',\n      tip: 'Dicas',\n      warning: 'Avisos',\n      caution: 'Cuidado',\n      details: 'Detalhe',\n    },\n  ],\n  [\n    ['pl', 'pl-PL'],\n    {\n      important: 'Ważne',\n      info: 'Info',\n      note: 'Notatka',\n      tip: 'Porady',\n      warning: 'Notatka',\n      caution: 'Ostrzeżenie',\n      details: 'Dane',\n    },\n  ],\n  [\n    ['sk', 'sk-SK'],\n    {\n      important: 'Dôležité',\n      info: 'Info',\n      note: 'Poznámka',\n      tip: 'Tip',\n      warning: 'Upozornenie',\n      caution: 'Pozor',\n      details: 'Podrobnosti',\n    },\n  ],\n  [\n    ['fr', 'fr-FR'],\n    {\n      important: 'Important',\n      info: 'Info',\n      note: 'Note',\n      tip: 'Conseil',\n      warning: 'Note',\n      caution: 'Avertissement',\n      details: 'Details',\n    },\n  ],\n  [\n    ['es', 'es-ES'],\n    {\n      important: 'Importante',\n      info: 'Información',\n      note: 'Nota',\n      tip: 'Consejos',\n      warning: 'Aviso',\n      caution: 'Advertencia',\n      details: 'Detalles',\n    },\n  ],\n  [\n    ['ja', 'ja-JP'],\n    {\n      important: '重要',\n      info: '関連情報',\n      note: '注',\n      tip: 'ヒント',\n      warning: '注意',\n      caution: '警告',\n      details: '詳細',\n    },\n  ],\n  [\n    ['tr', 'tr-TR'],\n    {\n      important: 'Önemli',\n      info: 'Bilgi',\n      note: 'Not',\n      tip: 'Tavsiye',\n      warning: 'Uyarı',\n      caution: 'Tehlike',\n      details: 'Detay',\n    },\n  ],\n  [\n    ['ko', 'ko-KO'],\n    {\n      important: '중요',\n      info: '정보',\n      note: '노트',\n      tip: '팁',\n      warning: '경고',\n      caution: '위험',\n      details: '세부사항',\n    },\n  ],\n  [\n    ['fi', 'fi-FI'],\n    {\n      important: 'Tärkeä',\n      info: 'Tietoa',\n      note: 'Huomautus',\n      tip: 'Vinkki',\n      warning: 'Varoitus',\n      caution: 'Vaara',\n      details: 'Yksityiskohdat',\n    },\n  ],\n  [\n    ['hu', 'hu-HU'],\n    {\n      important: 'Fontos',\n      info: 'Információ',\n      note: 'Megjegyzés',\n      tip: 'Tipp',\n      warning: 'Figyelem',\n      caution: 'Veszély',\n      details: 'Részletek',\n    },\n  ],\n  [\n    ['id', 'id-ID'],\n    {\n      important: 'Penting',\n      info: 'Pemberitahuan',\n      note: 'Catatan',\n      tip: 'Tips',\n      warning: 'Penting',\n      caution: 'Peringatan',\n      details: 'Rincian',\n    },\n  ],\n  [\n    ['nl', 'nl-NL'],\n    {\n      important: 'Belangrijk',\n      info: 'Info',\n      note: 'Notitie',\n      tip: 'Tips',\n      warning: 'Notitie',\n      caution: 'Waarschuwing',\n      details: 'Details',\n    },\n  ],\n]\n","import { getFullLocaleConfig } from '@vuepress/helper'\nimport type { Plugin } from 'vuepress/core'\nimport { getDirname, path } from 'vuepress/utils'\n\nimport { alert } from './alert.js'\nimport { hint } from './hint.js'\nimport { hintLocaleInfo } from './locales.js'\nimport type { MarkdownHintPluginOptions } from './options.js'\n\nconst PLUGIN_NAME = '@vuepress/plugin-markdown-hint'\n\nconst __dirname = import.meta.dirname || getDirname(import.meta.url)\n\nexport const markdownHintPlugin = (\n  options: MarkdownHintPluginOptions,\n): Plugin => {\n  if (!options.alert && options.hint === false)\n    return {\n      name: PLUGIN_NAME,\n    }\n\n  return {\n    name: PLUGIN_NAME,\n\n    extendsMarkdown: (md, app) => {\n      const locale = getFullLocaleConfig({\n        app,\n        name: PLUGIN_NAME,\n        default: hintLocaleInfo,\n        config: options.locales,\n      })\n\n      if (options.alert) md.use(alert, locale)\n      if (options.hint !== false) md.use(hint, locale)\n    },\n\n    clientConfigFile:\n      options.injectStyles === false\n        ? undefined\n        : path.resolve(__dirname, '../client/config.js'),\n  }\n}\n"],"names":["alert","md","options","_alert","tokens","index","_options","env","type","relativePath","ensureLeadingSlash","localePath","resolveLocalePath","CONTAINERS","hint","name","container","info","filePathRelative","hintLocaleInfo","PLUGIN_NAME","__dirname","getDirname","markdownHintPlugin","app","locale","getFullLocaleConfig","path"],"mappings":"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T,QAAS,WACT,QAAS,UACX,CACF,EACA,CACE,CAAC,IAAI,EACL,CACE,UAAW,UACX,KAAM,aACN,KAAM,OACN,IAAK,SACL,QAAS,WACT,QAAS,QACT,QAAS,QACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,QACX,KAAM,OACN,KAAM,UACN,IAAK,QACL,QAAS,aACT,QAAS,iBACT,QAAS,aACX,CACF,EACA,CACE,CAAC,IAAI,EACL,CACE,UAAW,aACX,KAAM,cACN,KAAM,OACN,IAAK,QACL,QAAS,SACT,QAAS,UACT,QAAS,SACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,QACX,KAAM,OACN,KAAM,UACN,IAAK,SACL,QAAS,UACT,QAAS,cACT,QAAS,MACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,WACX,KAAM,OACN,KAAM,WACN,IAAK,MACL,QAAS,cACT,QAAS,QACT,QAAS,aACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,YACX,KAAM,OACN,KAAM,OACN,IAAK,UACL,QAAS,OACT,QAAS,gBACT,QAAS,SACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,aACX,KAAM,cACN,KAAM,OACN,IAAK,WACL,QAAS,QACT,QAAS,cACT,QAAS,UACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,KACX,KAAM,OACN,KAAM,IACN,IAAK,MACL,QAAS,KACT,QAAS,KACT,QAAS,IACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,SACX,KAAM,QACN,KAAM,MACN,IAAK,UACL,QAAS,QACT,QAAS,UACT,QAAS,OACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,KACX,KAAM,KACN,KAAM,KACN,IAAK,IACL,QAAS,KACT,QAAS,KACT,QAAS,MACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,SACX,KAAM,SACN,KAAM,YACN,IAAK,SACL,QAAS,WACT,QAAS,QACT,QAAS,gBACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,SACX,KAAM,aACN,KAAM,aACN,IAAK,OACL,QAAS,WACT,QAAS,UACT,QAAS,WACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,UACX,KAAM,gBACN,KAAM,UACN,IAAK,OACL,QAAS,UACT,QAAS,aACT,QAAS,SACX,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,UAAW,aACX,KAAM,OACN,KAAM,UACN,IAAK,OACL,QAAS,UACT,QAAS,eACT,QAAS,SACX,CACF,CACF,EC3OMC,EAAc,iCAEdC,EAAY,YAAY,SAAWC,EAAW,YAAY,GAAG,EAEtDC,EACXrB,GAEI,CAACA,EAAQ,OAASA,EAAQ,OAAS,GAC9B,CACL,KAAMkB,CACR,EAEK,CACL,KAAMA,EAEN,gBAAiB,CAACnB,EAAIuB,IAAQ,CAC5B,MAAMC,EAASC,EAAoB,CACjC,IAAAF,EACA,KAAMJ,EACN,QAASD,EACT,OAAQjB,EAAQ,OAClB,CAAC,EAEGA,EAAQ,OAAOD,EAAG,IAAID,EAAOyB,CAAM,EACnCvB,EAAQ,OAAS,IAAOD,EAAG,IAAIa,EAAMW,CAAM,CACjD,EAEA,iBACEvB,EAAQ,eAAiB,GACrB,OACAyB,EAAK,QAAQN,EAAW,qBAAqB,CACrD"}