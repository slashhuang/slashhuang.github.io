---
title: 一些理解上的不到位
id: 108
categories:
  - Javascript
date: 2015-07-25 16:31:47
tags:
---

关于Js的闭包问题，主要原理======内部函数可以访问定义它们的外部函数的变量和参数。

关于这一点首先要澄清：

1.  内部函数是类似（function(){})()这种形式的，直接返回值，即回收内存。这种情形没啥影响。
2.  内部函数是类似 var func= function(){return value};若内部函数调用了外部函数的变量，这里会出现大问题。主要是因为JS在执行的时候，只是将它挂载起来并不解析具体操作。因而，在后续操作的时候，外部变量如果用了类似For循环之类的话，可能结果就不是我们想要的结果了。解决方案有两种：1/ var func= function(){return value};在此函数外部再开辟一个变量指向for 循环的变量，然后在此内部函数使用。2/直接采用var func=( function(外部变量){return function(){value}})(外部变量);
3.  上述第二点的两种方法殊途同归，就是复制挂载的函数中引用的外部变量，避免真正 执行时出现我们不希望的效果